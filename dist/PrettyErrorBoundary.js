function v(t){window.enmity.plugins.registerPlugin(t)}const m=window.enmity.modules.common.Constants,h=window.enmity.modules.common.Clipboard;window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const o=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const l=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function f(...t){return window.enmity.modules.getByProps(...t)}function I(...t){return window.enmity.modules.getByName(...t)}window.enmity.modules.common;function F(t){return window.enmity.patcher.create(t)}var M="PrettyErrorBoundary",B="1.0.0",L="Makes the Discord ErrorBoundary much more pretty and functional. This is my implementation of the Vendetta concept.",P=[{name:"Rosie<3",id:"581573474296791211"}],N="#ff9caf",C={name:M,version:B,description:L,authors:P,color:N};const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList;const O=e.Image;e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const x=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const a=e.Text;e.TextInput,e.TouchableHighlight;const _=e.TouchableOpacity;e.TouchableWithoutFeedback,e.Touchable;const r=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const{Fonts:{PRIMARY_NORMAL:k,PRIMARY_MEDIUM:Y,PRIMARY_BOLD:$},ThemeColorMap:s}=m;var i=l.createThemedStyleSheet({header:{alignItems:"center",flexDirection:"row"},text:{fontFamily:k},headerLeftSection:{backgroundColor:s.BACKGROUND_TERTIARY,width:"52.5%",height:175,padding:10,margin:10,borderRadius:15},headerLeftSectionTitle:{color:s.HEADER_PRIMARY,fontSize:24,fontFamily:$,textAlign:"center"},headerLeftSectionBody:{color:s.HEADER_SECONDARY,fontSize:16,fontFamily:Y,textAlign:"center"},headerRightSection:{backgroundColor:s.BACKGROUND_TERTIARY,flexGrow:1,height:175,padding:10,marginVertical:10,marginRight:10,borderRadius:15,justifyContent:"center",alignItems:"center"},headerRightCircle:{backgroundColor:s.HEADER_PRIMARY,width:void 0,height:"50%",aspectRatio:1/1,borderRadius:999},headerRightImageLarge:{width:void 0,height:"50%",aspectRatio:1/1,position:"absolute",transform:[{translateX:"25%"},{translateY:"-25%"}]},headerRightImageSmall:{width:void 0,height:"40%",aspectRatio:1/1,position:"absolute",transform:[{scaleX:-1},{translateX:"25%"},{translateY:"15%"}]}});const{ThemeColorMap:H}=m;var g=l.createThemedStyleSheet({island:{backgroundColor:H.BACKGROUND_SECONDARY,width:"95%",marginHorizontal:10,marginTop:10,borderRadius:15}}),V=()=>o.createElement(r,{style:[g.island,i.header]},o.createElement(r,{style:i.headerLeftSection},o.createElement(a,{style:i.headerLeftSectionTitle},"Discord has crashed."),o.createElement(a,{style:i.headerLeftSectionBody},"Don't worry! We'll fix this soon. Relax and take Kemonomimi-chan in the meantime.")),o.createElement(r,{style:i.headerRightSection},o.createElement(r,{style:i.headerRightCircle}),[i.headerRightImageLarge,i.headerRightImageSmall].map(t=>o.createElement(O,{style:t,source:{uri:"https://cdn.discordapp.com/emojis/1094996543662207026.gif?size=2048&quality=lossless"}}))));const{Fonts:{PRIMARY_SEMIBOLD:z,CODE_SEMIBOLD:G},ThemeColorMap:R}=m;var c=l.createThemedStyleSheet({header:{color:R.HEADER_PRIMARY,marginTop:10,marginLeft:15,fontSize:20,fontFamily:z},container:{backgroundColor:R.BACKGROUND_TERTIARY,margin:10,padding:10,borderRadius:10},body:{color:R.HEADER_SECONDARY,fontFamily:G}}),K=({error:t,engine:n})=>o.createElement(r,{style:g.island},o.createElement(a,{style:c.header},"Here's a short outline of what happened:"),o.createElement(r,{style:c.container},o.createElement(a,{style:c.body},t.toString())),o.createElement(r,{style:[c.container,{marginTop:0}]},o.createElement(a,{style:c.body},"js engine: ",n)));const{Fonts:{PRIMARY_SEMIBOLD:U,CODE_SEMIBOLD:j},ThemeColorMap:w}=m;var A=l.createThemedStyleSheet({header:{color:w.HEADER_PRIMARY,marginTop:10,marginLeft:15,fontSize:20,fontFamily:U},buttons:{backgroundColor:w.BACKGROUND_TERTIARY,margin:10,padding:10,borderRadius:15},errorContainer:{backgroundColor:w.BACKGROUND_TERTIARY,margin:10,padding:10,borderRadius:10},errorBody:{color:w.HEADER_SECONDARY,fontFamily:j}});const{Fonts:{PRIMARY_BOLD:X},ThemeColorMap:J,Colors:W}=m;var T=l.createThemedStyleSheet({container:{backgroundColor:W.BRAND_500,height:40,borderRadius:5,margin:5,justifyContent:"center",alignItems:"center",flexDirection:"row"},text:{color:J.TEXT_NORMAL,fontFamily:X,paddingLeft:10,paddingRight:10,letterSpacing:.25,fontSize:16,textAlign:"center"}}),d=({label:t,onPress:n,style:y})=>o.createElement(_,{style:[T.container,y],onPress:n},o.createElement(a,{style:T.text},t));const{native:u}=window.enmity;function q(){u.reload()}u.version,u.build,u.device,u.version;const b=f("View","Text"),Q=({buttons:t})=>o.createElement(r,{style:{flexDirection:"row"}},t.map(n=>o.createElement(d,{style:{flex:1/t.length},...n})));var Z=({setNoError:t,error:n})=>{var y,S,E;const p={...(y=window.HermesInternal)==null?void 0:y.getRuntimeProperties(),...(E=(S=b==null?void 0:b.NativeModules)==null?void 0:S.PlatformConstants)==null?void 0:E.getConstants()};return o.createElement(r,{style:g.island},o.createElement(a,{style:A.header},"Some things you can do while you wait:"),o.createElement(r,{style:A.buttons},o.createElement(Q,{buttons:[{label:"Copy JS Trace",onPress:()=>h.setString(n.stack)},{label:"Copy React Stack",onPress:()=>h.setString(n.componentStack)}]}),o.createElement(d,{label:"Copy Debug Logs",onPress:()=>h.setString(JSON.stringify(p,null,2))}),o.createElement(d,{label:"Copy All",onPress:()=>h.setString(n.stack+n.componentStack+JSON.stringify(p,null,2))}),o.createElement(d,{label:"Retry Render",onPress:t}),o.createElement(d,{label:"Restart Discord",onPress:q})))};const ee=I("ErrorBoundary"),{SafeAreaView:oe}=f("SafeAreaView"),D=F(C.name),te=l.createThemedStyleSheet({container:{backgroundColor:m.ThemeColorMap.BACKGROUND_PRIMARY,width:"100%",height:"100%",alignItems:"center",flex:1}}),ne={...C,onStart(){D.after(ee.prototype,"render",t=>{if(t.state.error)return o.createElement(oe,{style:te.container},o.createElement(x,null,o.createElement(V,null),o.createElement(K,{error:t.state.error,engine:window.HermesInternal?"hermes":"jsc"}),o.createElement(Z,{setNoError:()=>t.setState({info:null,error:null}),error:t.state.error})))})},onStop(){D.unpatchAll()},getSettingsPanel(){return o.createElement(Cute,null)}};v(ne);
