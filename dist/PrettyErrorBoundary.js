function F(t){window.enmity.plugins.registerPlugin(t)}const l=window.enmity.modules.common.Constants,w=window.enmity.modules.common.Clipboard;window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const o=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const s=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function E(...t){return window.enmity.modules.getByProps(...t)}function M(...t){return window.enmity.modules.getByName(...t)}window.enmity.modules.common;function P(t){return window.enmity.patcher.create(t)}var B="PrettyErrorBoundary",L="1.0.1",N="Makes the Discord ErrorBoundary much more pretty and functional. This is my implementation of the Vendetta concept.",O=[{name:"Rosie<3",id:"581573474296791211"}],x="#ff9caf",p={name:B,version:L,description:N,authors:O,color:x};const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList;const _=e.Image;e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const k=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const m=e.Text;e.TextInput,e.TouchableHighlight;const Y=e.TouchableOpacity;e.TouchableWithoutFeedback,e.Touchable;const r=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const{Fonts:{PRIMARY_NORMAL:$,PRIMARY_MEDIUM:H,PRIMARY_BOLD:V},ThemeColorMap:d}=l;var a=s.createThemedStyleSheet({header:{alignItems:"center",flexDirection:"row"},text:{fontFamily:$},headerLeftSection:{backgroundColor:d.BACKGROUND_TERTIARY,width:"52.5%",height:175,padding:10,margin:10,borderRadius:15},headerLeftSectionTitle:{color:d.HEADER_PRIMARY,fontSize:24,fontFamily:V,textAlign:"center"},headerLeftSectionBody:{color:d.HEADER_SECONDARY,fontSize:16,fontFamily:H,textAlign:"center"},headerRightSection:{backgroundColor:d.BACKGROUND_TERTIARY,flexGrow:1,height:175,padding:10,marginVertical:10,marginRight:10,borderRadius:15,justifyContent:"center",alignItems:"center"},headerRightCircle:{backgroundColor:d.HEADER_PRIMARY,width:void 0,height:"50%",aspectRatio:1/1,borderRadius:999},headerRightImageLarge:{width:void 0,height:"50%",aspectRatio:1/1,position:"absolute",transform:[{translateX:"25%"},{translateY:"-25%"}]},headerRightImageSmall:{width:void 0,height:"40%",aspectRatio:1/1,position:"absolute",transform:[{scaleX:-1},{translateX:"25%"},{translateY:"15%"}]}});const{ThemeColorMap:z}=l;var R=s.createThemedStyleSheet({island:{backgroundColor:z.BACKGROUND_SECONDARY,width:"95%",marginHorizontal:10,marginTop:10,borderRadius:15}}),G=()=>o.createElement(r,{style:[R.island,a.header]},o.createElement(r,{style:a.headerLeftSection},o.createElement(m,{style:a.headerLeftSectionTitle},"Discord has crashed."),o.createElement(m,{style:a.headerLeftSectionBody},"Don't worry! We'll fix this soon. Relax and take Kemonomimi-chan in the meantime.")),o.createElement(r,{style:a.headerRightSection},o.createElement(r,{style:a.headerRightCircle}),[a.headerRightImageLarge,a.headerRightImageSmall].map(t=>o.createElement(_,{style:t,source:{uri:"https://cdn.discordapp.com/emojis/1094996543662207026.gif?size=2048&quality=lossless"}}))));const{Fonts:{PRIMARY_SEMIBOLD:K,CODE_SEMIBOLD:U},ThemeColorMap:S}=l;var u=s.createThemedStyleSheet({header:{color:S.HEADER_PRIMARY,marginTop:10,marginLeft:15,fontSize:20,fontFamily:K},container:{backgroundColor:S.BACKGROUND_TERTIARY,margin:10,padding:10,borderRadius:10},body:{color:S.HEADER_SECONDARY,fontFamily:U}}),j=({error:t,engine:n})=>o.createElement(r,{style:R.island},o.createElement(m,{style:u.header},"Here's a short outline of what happened:"),o.createElement(r,{style:u.container},o.createElement(m,{style:u.body},t.toString())),o.createElement(r,{style:[u.container,{marginTop:0}]},o.createElement(m,{style:u.body},"js engine: ",n)));const{Fonts:{PRIMARY_SEMIBOLD:X,CODE_SEMIBOLD:J},ThemeColorMap:g}=l;var f=s.createThemedStyleSheet({header:{color:g.HEADER_PRIMARY,marginTop:10,marginLeft:15,fontSize:20,fontFamily:X},buttons:{backgroundColor:g.BACKGROUND_TERTIARY,margin:10,padding:10,borderRadius:15},errorContainer:{backgroundColor:g.BACKGROUND_TERTIARY,margin:10,padding:10,borderRadius:10},errorBody:{color:g.HEADER_SECONDARY,fontFamily:J}});const{Fonts:{PRIMARY_BOLD:W},ThemeColorMap:q,Colors:Q}=l;var C=s.createThemedStyleSheet({container:{backgroundColor:Q.BRAND_500,height:40,borderRadius:5,margin:5,justifyContent:"center",alignItems:"center",flexDirection:"row"},text:{color:q.TEXT_NORMAL,fontFamily:W,paddingLeft:10,paddingRight:10,letterSpacing:.25,fontSize:16,textAlign:"center"}}),y=({label:t,onPress:n,style:c})=>{const[i,I]=o.useState(t);return o.createElement(Y,{style:[C.container,c],onPress:()=>n(i,I)},o.createElement(m,{style:C.text},i))};const{native:h}=window.enmity;function Z(){h.reload()}h.version,h.build,h.device,h.version;var T,A;const{NativeModules:b}=E("View","Text"),ee=({actions:t})=>o.createElement(r,{style:{flexDirection:"row"}},t.map(n=>o.createElement(y,{style:{flex:1/t.length},...n}))),D={...(T=window.HermesInternal)==null?void 0:T.getRuntimeProperties(),...(A=b==null?void 0:b.PlatformConstants)==null?void 0:A.getConstants()};var oe=({setNoError:t,error:n})=>o.createElement(r,{style:R.island},o.createElement(m,{style:f.header},"Some things you can do while you wait:"),o.createElement(r,{style:f.buttons},o.createElement(ee,{actions:[{label:"Copy JS Trace",onPress:(c,i)=>{w.setString(n.stack),i("Copied!"),setTimeout(()=>{i(c)},700)}},{label:"Copy React Stack",onPress:(c,i)=>{w.setString(n.componentStack),i("Copied!"),setTimeout(()=>{i(c)},700)}}]}),o.createElement(y,{label:"Copy Debug Logs",onPress:()=>w.setString(JSON.stringify(D,null,2))}),o.createElement(y,{label:"Copy All",onPress:()=>w.setString(n.stack+n.componentStack+JSON.stringify(D,null,2))}),o.createElement(y,{label:"Retry Render",onPress:t}),o.createElement(y,{label:"Restart Discord",onPress:Z})));const te=M("ErrorBoundary"),{SafeAreaView:ne}=E("SafeAreaView"),v=P(p.name),re=s.createThemedStyleSheet({container:{backgroundColor:l.ThemeColorMap.BACKGROUND_PRIMARY,width:"100%",height:"100%",alignItems:"center",flex:1}}),ie={...p,onStart(){function t(){v.after(te.prototype,"render",n=>{if(n.state.error)return o.createElement(ne,{style:re.container},o.createElement(k,null,o.createElement(G,null),o.createElement(j,{error:n.state.error,engine:window.HermesInternal?"hermes":"jsc"}),o.createElement(oe,{setNoError:()=>n.setState({info:null,error:null}),error:n.state.error})))})}setTimeout(()=>t(),500)},onStop(){v.unpatchAll()},getSettingsPanel(){return o.createElement("cute",null)}};F(ie);
